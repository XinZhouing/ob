# Elasticsearch 安装
## 下载 Elasticsearch `7.8.0 的 docker 镜像：
`docker pull elasticsearch:7.8.0`
- 使用如下命令启动 Elasticsearch 服务，内存小的服务器可以通过 `ES_JAVA_OPTS` 来设置占用内存大小：
```bash
docker run -d \
	--name elasticsearch \
    -e "ES_JAVA_OPTS=-Xms512m -Xmx1024m" \
    -e "discovery.type=single-node" \
    -v es-data:/usr/share/elasticsearch/data \
    -v es-plugins:/usr/share/elasticsearch/plugins \
    --privileged \
    -p 9200:9200 \
    -p 9300:9300 \
elasticsearch:7.8.0
```
### 命令说明 ：
- `-e "cluster.name=es-docker-cluster"`：设置集群名称
- `-e "http.host=0.0.0.0"`：监听的地址，可以外网访问
- `-e "ES_JAVA_OPTS=-Xms512m -Xmx512m"`：内存大小
- `-e "discovery.type=single-node"`：非集群模式
- `-v es-data:/usr/share/elasticsearch/data`：挂载逻辑卷，绑定`elasticsearch`的数据目录
- `-v es-logs:/usr/share/elasticsearch/logs`：挂载逻辑卷，绑定`elasticsearch`的日志目录
- `-v es-plugins:/usr/share/elasticsearch/plugins`：挂载逻辑卷，绑定`elasticsearch`的插件目录
- `--privileged`：授予逻辑卷访问权
- `--network itmentu-net` ：加入一个名为`itmentu-net`的网络中
- `-p 9200:9200`：端口映射配置
### 测试
http://localhost:9200/
